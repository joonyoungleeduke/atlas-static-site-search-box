{"version":3,"sources":["../../src/components/History/index.tsx","../../src/constants.ts","../../src/utils.ts","../../src/components/SearchView/HighlightedText.tsx","../../src/components/SearchView/index.tsx","../../src/api/API.ts","../../src/index.tsx","App.tsx","constants.ts","index.tsx","../../dist/query_search~ivnigATL.png"],"names":["truncateText","startingChar","maxCharLength","truncateOnRight","truncatedPartPlaceholder","placeholder","text","addResultToSearchHistory","res","new_history","getSearchHistory","curr","localStorage","JSON","SearchHistory","useState","selected","setSelected","searchHistory","setSearchHistory","style","width","padding","color","margin","secondaryAction","edge","onClick","removeResultFromSearchHistory","React","borderRadius","backgroundColor","marginTop","marginBottom","disablePadding","window","historyResult","onMouseOver","display","flexDirection","justifyContent","gap","fontSize","decode","variant","textTransform","size","HighlightedText","inFocus","textDocs","rest","textBeforeHighlight","textAfterHighlight","highlightPos","highlightText","i","textDoc","textBefore","textAfter","textDecoration","fontStyle","boxShadow","height","p","SearchView","query","handleQueryChange","searchResults","loading","noResults","open","setOpen","startIcon","onClose","alignItems","paddingTop","BackdropProps","opacity","sx","startAdornment","disabled","borderBottom","onChange","value","component","overflowX","overflowY","animation","searchResult","key","String","idx","highlight","texts","href","textDecorationColor","MongoSearchIcon","alt","src","mongoSearchIcon","API","user","this","app","id","api","e","console","results","completions","credentials","Realm","Search","setLoading","setApi","setNoResults","setQuery","setResults","useEffect","delayFetchResults","setTimeout","getNewSearchResults","clearTimeout","SearchPage","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.6ebdc5c9.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport Button from '@mui/material/Button'\nimport IconButton from '@mui/material/IconButton'\nimport CloseIcon from '@mui/icons-material/Close'\nimport ListItemButton from '@mui/material/ListItemButton'\nimport ListItem from '@mui/material/ListItem'\nimport { Result } from '../../types'\nimport { decode } from 'html-entities'\nimport { SEARCH_HISTORY_KEY, SEARCH_HISTORY_MAX_SIZE } from '../../constants'\n\nconst truncateText = (\n  text: string,\n  startingChar: number = 0,\n  maxCharLength: number = 80,\n  truncateOnRight = true,\n  truncatedPartPlaceholder = '...'\n) => {\n  let placeholder = ''\n  if (text.length > maxCharLength) {\n    placeholder = truncatedPartPlaceholder\n    return truncateOnRight\n      ? `${text.substring(\n          startingChar,\n          startingChar + maxCharLength\n        )}${placeholder}`\n      : `${placeholder}${text.substring(\n          text.length - maxCharLength + startingChar,\n          text.length\n        )}`\n  }\n\n  if (startingChar > 0) {\n    return text.substring(startingChar, startingChar + maxCharLength)\n  }\n\n  return text\n}\n\nexport function addResultToSearchHistory(res: Result) {\n  res.doc_text = ''\n  res.highlights = []\n  const history = getSearchHistory()\n  const new_history = history.filter((curr: Result) => curr._id !== res._id)\n  new_history.unshift(res)\n  if (new_history.length > SEARCH_HISTORY_MAX_SIZE) {\n    new_history.pop()\n  }\n  localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(new_history))\n}\n\nfunction removeResultFromSearchHistory(res: Result) {\n  const history = getSearchHistory()\n  const new_history = history.filter((curr: Result) => curr._id !== res._id)\n  localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(new_history))\n}\n\nfunction getSearchHistory() {\n  const history = JSON.parse(localStorage.getItem(SEARCH_HISTORY_KEY) || '[]')\n  return history\n}\n\nexport default function SearchHistory() {\n  const [selected, setSelected] = useState(0)\n  const [searchHistory, setSearchHistory] = useState(getSearchHistory())\n\n  return searchHistory.length > 0 ? (\n    <div>\n      <div\n        style={{\n          width: '100%',\n          padding: '5px'\n        }}\n      >\n        <p\n          style={{\n            color: '#92D293',\n            padding: 0,\n            margin: 0\n          }}\n        >\n          Search History\n        </p>\n      </div>\n      {searchHistory.map((historyResult: Result, idx: number) => {\n        return (\n          <ListItem\n            secondaryAction={\n              <IconButton\n                edge='end'\n                onClick={() => {\n                  removeResultFromSearchHistory(historyResult)\n                  setSearchHistory(getSearchHistory())\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            }\n            style={{\n              width: '100%',\n              borderRadius: '10px',\n              backgroundColor: selected === idx ? '#92D293' : 'white',\n              marginTop: '5px',\n              marginBottom: '5px'\n            }}\n            disablePadding\n          >\n            <ListItemButton\n              onClick={() => {\n                window.open(historyResult._id)\n                addResultToSearchHistory(historyResult)\n                setSearchHistory(getSearchHistory())\n              }}\n              onMouseOver={() => setSelected(idx)}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-around',\n                  gap: '5px'\n                }}\n              >\n                {!historyResult.highlights ||\n                  (historyResult.highlights &&\n                    historyResult.highlights.length === 0 && (\n                      <div>\n                        <p\n                          style={{\n                            color: selected === idx ? 'white' : 'black',\n                            margin: 0,\n                            fontSize: '.9em'\n                          }}\n                        >\n                          {truncateText(decode(historyResult.title))}\n                        </p>\n\n                        <span\n                          style={{\n                            color: selected === idx ? 'white' : 'gray',\n                            fontSize: '.75em'\n                          }}\n                        >\n                          {truncateText(historyResult._id, 12)}\n                        </span>\n                      </div>\n                    ))}\n              </div>\n            </ListItemButton>\n          </ListItem>\n        )\n      })}\n      <Button\n        variant='outlined'\n        onClick={() => {\n          localStorage.removeItem(SEARCH_HISTORY_KEY)\n          setSearchHistory(getSearchHistory())\n        }}\n        style={{\n          textTransform: 'none',\n          borderRadius: '10px',\n          marginTop: '10px'\n        }}\n        color='success'\n        size='large'\n      >\n        Clear History\n      </Button>\n    </div>\n  ) : (\n    <div></div>\n  )\n}\n","export const SEARCH_HISTORY_KEY = \"atlasStaticSiteSearchHistory\";\nexport const SEARCH_HISTORY_MAX_SIZE = 5;\n","export const truncateText = (\n  text: string,\n  startingChar: number = 0,\n  maxCharLength: number = 80,\n  truncateOnRight = true,\n  truncatedPartPlaceholder = '...'\n) => {\n  let placeholder = ''\n  if (text.length > maxCharLength) {\n    placeholder = truncatedPartPlaceholder\n    return truncateOnRight\n      ? `${text.substring(\n          startingChar,\n          startingChar + maxCharLength\n        )}${placeholder}`\n      : `${placeholder}${text.substring(\n          text.length - maxCharLength + startingChar,\n          text.length\n        )}`\n  }\n\n  if (startingChar > 0) {\n    return text.substring(startingChar, startingChar + maxCharLength)\n  }\n\n  return text\n}\n","import React from 'react'\nimport { Documents } from '../../types'\nimport { decode } from 'html-entities'\nimport { truncateText } from '../../utils'\n\ninterface HighLightedTextProps {\n  inFocus: boolean\n  textDocs: Array<Documents>\n  // other props\n  [x: string]: any\n}\n\nexport default function HighlightedText({\n  inFocus,\n  textDocs,\n  ...rest\n}: HighLightedTextProps) {\n  const textBeforeHighlight = []\n  const textAfterHighlight = []\n  let highlightPos = -1\n  let highlightText = ''\n  for (let i = 0; i < textDocs.length; i++) {\n    const textDoc = textDocs[i]\n    if (textDoc.type === 'hit') {\n      highlightText = textDoc.value\n      highlightPos = i\n      continue\n    }\n\n    if (highlightPos < 0) {\n      textBeforeHighlight.push(textDocs[i].value)\n    } else {\n      textAfterHighlight.push(textDocs[i].value)\n    }\n  }\n\n  const textBefore =\n    textBeforeHighlight.length > 0 ? textBeforeHighlight.join('') : ''\n  const textAfter =\n    textAfterHighlight.length > 0 ? textAfterHighlight.join('') : ''\n\n  return (\n    <p {...rest}>\n      {truncateText(decode(textBefore), 0, 30, false)}\n      {highlightText && (\n        <em\n          style={{\n            textDecoration: inFocus ? 'underline' : '',\n            color: inFocus ? 'inherit' : '#92D293',\n            fontStyle: 'normal'\n          }}\n        >\n          {decode(highlightText)}\n        </em>\n      )}\n      {truncateText(decode(textAfter), 0, 30)}\n    </p>\n  )\n}\n","import React, { useState } from 'react'\nimport Box from '@mui/material/Box'\nimport Button from '@mui/material/Button'\nimport Modal from '@mui/material/Modal'\nimport SearchIcon from '@mui/icons-material/Search'\nimport IconButton from '@mui/material/IconButton'\nimport List from '@mui/material/List'\nimport ListItemButton from '@mui/material/ListItemButton'\nimport InputBase from '@mui/material/InputBase'\nimport Typography from '@mui/material/Typography'\nimport { decode } from 'html-entities'\nimport LinearProgress from '@mui/material/LinearProgress'\n// @ts-ignore\nimport mongoSearchIcon from 'query_search.png'\nimport { Link } from '@mui/material'\nimport SearchHistory, { addResultToSearchHistory } from '../History'\nimport { Documents, Result } from '../../types'\nimport { truncateText } from '../../utils'\nimport HighlightedText from './HighlightedText'\n\nconst style = {\n  width: 550,\n  backgroundColor: 'background.paper',\n  borderRadius: '10px',\n  boxShadow: 5,\n  height: 600,\n  p: 2\n}\n\ninterface SearchModalProps {\n  query: string\n  handleQueryChange: Function\n  searchResults: Array<Result>\n  loading: boolean\n  noResults: boolean\n}\n\nexport default function SearchView({\n  query,\n  handleQueryChange,\n  searchResults,\n  loading,\n  noResults\n}: SearchModalProps) {\n  const [open, setOpen] = useState(false)\n  const [selected, setSelected] = useState(0)\n\n  return (\n    <div>\n      <Button\n        variant='outlined'\n        startIcon={<SearchIcon />}\n        onClick={() => setOpen(true)}\n        style={{\n          textTransform: 'none',\n          borderRadius: '10px'\n        }}\n        color='success'\n        size='large'\n      >\n        Search...\n      </Button>\n      <Modal\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby='modal-modal-title'\n        aria-describedby='modal-modal-description'\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'start',\n          alignItems: 'center',\n          paddingTop: '10%'\n        }}\n        BackdropProps={{\n          style: {\n            opacity: 0.5\n          }\n        }}\n      >\n        <Box\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'start',\n            alignItems: 'center',\n            backgroundColor: '#F6F6F6'\n          }}\n          sx={style}\n        >\n          <InputBase\n            placeholder='Search...'\n            startAdornment={\n              <IconButton disabled>\n                <SearchIcon fontSize='large' color='success' />\n              </IconButton>\n            }\n            style={{\n              width: '100%',\n              borderBottom: '0.5px solid gray',\n              padding: '15px',\n              fontSize: '18px',\n              backgroundColor: 'white'\n            }}\n            onChange={(e) => handleQueryChange(e)}\n            value={query}\n          />\n\n          <List\n            component='nav'\n            style={{\n              width: '100%',\n              height: '100%',\n              overflowX: 'hidden',\n              overflowY: 'scroll'\n            }}\n          >\n            {loading && (\n              <div>\n                <LinearProgress color='success' />\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    flexDirection: 'column',\n                    height: '100%',\n                    opacity: '1',\n                    animation: 'fade 1.5s linear'\n                  }}\n                >\n                  <Typography variant='h1'>\n                    <MongoSearchIcon />\n                  </Typography>\n                </div>\n              </div>\n            )}\n            {noResults && (\n              <div>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'center',\n                    alignItems: 'center',\n                    flexDirection: 'column',\n                    height: '100%'\n                  }}\n                >\n                  <Typography variant='h1'>\n                    <MongoSearchIcon />\n                  </Typography>\n                </div>\n              </div>\n            )}\n            {!loading && searchResults && searchResults.length > 0 && (\n              <div\n                style={{\n                  width: '100%',\n                  padding: '5px'\n                }}\n              >\n                <p\n                  style={{\n                    color: '#92D293',\n                    padding: 0,\n                    margin: 0\n                  }}\n                >\n                  Results\n                </p>\n              </div>\n            )}\n            {!loading &&\n              searchResults.map((searchResult, idx) => {\n                return (\n                  <ListItemButton\n                    onClick={() => {\n                      window.open(searchResult._id)\n                      addResultToSearchHistory(searchResult)\n                    }}\n                    key={String(searchResult._id)}\n                    style={{\n                      width: '100%',\n                      borderRadius: '10px',\n                      backgroundColor: selected === idx ? '#92D293' : 'white',\n                      marginTop: '5px',\n                      marginBottom: '5px'\n                    }}\n                    onMouseOver={() => setSelected(idx)}\n                  >\n                    {\n                      <div\n                        style={{\n                          display: 'flex',\n                          flexDirection: 'column',\n                          justifyContent: 'space-around',\n                          gap: '5px'\n                        }}\n                      >\n                        {!searchResult.highlights ||\n                          (searchResult.highlights &&\n                            searchResult.highlights.length === 0 && (\n                              <div>\n                                <p\n                                  style={{\n                                    color: selected === idx ? 'white' : 'black',\n                                    margin: 0,\n                                    fontSize: '.9em'\n                                  }}\n                                >\n                                  {truncateText(decode(searchResult.title))}\n                                </p>\n\n                                <span\n                                  style={{\n                                    color: selected === idx ? 'white' : 'gray',\n                                    fontSize: '.75em'\n                                  }}\n                                >\n                                  {truncateText(searchResult._id, 12)}\n                                </span>\n                              </div>\n                            ))}\n                        {searchResult.highlights &&\n                          searchResult.highlights.length > 0 && // for multiple highlights we only grab one for now -- may add extra feature later\n                          searchResult.highlights\n                            .slice(0, 1)\n                            .map((highlight: { texts: any[] }, i: any) => {\n                              return (\n                                <div key={searchResult._id + `_highlight_${i}`}>\n                                  <HighlightedText\n                                    inFocus={selected === idx}\n                                    textDocs={highlight.texts}\n                                    style={{\n                                      color:\n                                        selected === idx ? 'white' : 'black',\n                                      margin: 0,\n                                      fontSize: '.9em'\n                                    }}\n                                  />\n\n                                  <span\n                                    style={{\n                                      color:\n                                        selected === idx ? 'white' : 'gray',\n                                      fontSize: '.75em'\n                                    }}\n                                  >\n                                    {truncateText(decode(searchResult.title))}\n                                  </span>\n                                </div>\n                              )\n                            })}\n                      </div>\n                    }\n                  </ListItemButton>\n                )\n              })}\n            {!loading && !noResults && <SearchHistory />}\n          </List>\n          <Typography variant='subtitle1'>\n            Powered by{' '}\n            <Link\n              href='https://www.mongodb.com/atlas/database'\n              style={{ color: '#2E7D32', textDecorationColor: '#2E7D32' }}\n            >\n              MongoDB Atlas\n            </Link>\n          </Typography>\n        </Box>\n      </Modal>\n    </div>\n  )\n}\n\nconst MongoSearchIcon = () => (\n  <img alt='Search icon' src={mongoSearchIcon} style={{ width: 120 }} />\n)\n","import * as Realm from 'realm-web'\nimport { SearchResult } from '../types'\n\nexport class API {\n  private app: Realm.App\n  private user: Realm.User | null = null\n\n  private constructor(id: string) {\n    this.app = new Realm.App({ id })\n  }\n\n  // eslint-disable-next-line camelcase\n  public static async init(app_id: string): Promise<API> {\n    const api = new API(app_id)\n    await api.logInUser()\n    return api\n  }\n\n  public async searchDocs(query: string): Promise<SearchResult> {\n    if (query === '') {\n      console.warn('Tried to search with an empty string')\n      return {\n        results: [],\n        completions: []\n      }\n    }\n    return (await this.user?.functions.searchPageContents({\n      query\n    })) as SearchResult\n  }\n\n  private async logInUser() {\n    // Create an anonymous credential\n    const credentials = Realm.Credentials.anonymous()\n\n    // Authenticate the user\n    this.user = await this.app.logIn(credentials)\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport SearchView from './components/SearchView'\nimport { API } from './api/API'\nimport { SearchResult } from './types'\n\ninterface SearchProps {\n  id: string\n}\n\nexport default function Search({ id }: SearchProps) {\n  const [loading, setLoading] = useState<boolean>(false)\n  const [api, setApi] = useState<API>()\n  const [noResults, setNoResults] = useState<boolean>(false)\n  const [query, setQuery] = useState('')\n  const handleQueryChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(e.target.value)\n  }\n  const [results, setResults] = useState<SearchResult['results']>([])\n\n  useEffect(() => {\n    API.init(id).then((api) => setApi(api))\n  }, [id])\n  async function getNewSearchResults() {\n    if (!query || !query.trim() || !api) {\n      setResults([])\n    } else {\n      const { results } = await api.searchDocs(query)\n      setResults(results ? results : [])\n    }\n  }\n\n  useEffect(() => {\n    setLoading(false)\n\n    if (query && query.trim() && (!results || results.length === 0)) {\n      setNoResults(true)\n    } else {\n      setNoResults(false)\n    }\n  }, [results])\n\n  useEffect(() => {\n    setLoading(true)\n\n    if (!query || !query.trim()) {\n      setResults([])\n      return\n    }\n\n    const delayFetchResults = setTimeout(() => {\n      getNewSearchResults()\n    }, 1500)\n\n    return () => clearTimeout(delayFetchResults)\n  }, [query])\n\n  return (\n    <SearchView\n      searchResults={results}\n      query={query}\n      handleQueryChange={handleQueryChange}\n      loading={loading}\n      noResults={noResults && !loading}\n    />\n  )\n}\n","import React from 'react'\nimport Search from 'atlas-static-site-search-box'\nimport 'atlas-static-site-search-box/dist/index.css'\nimport Typography from \"@mui/material/Typography\"\nimport {APP_ID} from \"./constants\"\n\nexport default function SearchPage() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-evenly\",\n        alignItems: \"center\",\n        height: \"400px\",\n      }}\n    >\n      <Typography variant=\"h3\">🥭</Typography>\n      <Search id={APP_ID} />\n    </div>\n  );\n}\n","export const APP_ID = \"docs-search-cxodi\";\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}